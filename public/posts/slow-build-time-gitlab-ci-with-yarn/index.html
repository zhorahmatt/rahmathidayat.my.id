<!DOCTYPE html>
<html lang="en">
  <head>
    
      <title>
        Improve Gitlab CI Build Time on React App ::
        The Official Website of zhorahmatt -  — Creative and Deep Thinker
      </title>
    
    <meta http-equiv="content-type" content="text/html; charset=utf-8" />
<meta name="viewport" content="width=device-width, initial-scale=1.0" />
<meta
  name="description"
  content="Recently at my work, we have a work building internal dashboard and my colleague (a Front End Engineer) has picked React App for the front end. I got a job as an accident dev ops (it because our office does not have a dedicated dev ops yet).
My job is uploading local project into some accessible url for our user. First, i just ask the front end to send me the project that i have to upload to the server."
/>
<meta
  name="keywords"
  content="rahmathidayat.my.id"
/>
<meta name="robots" content="noodp" />
<link rel="canonical" href="https://rahmathidayat.my.id/posts/slow-build-time-gitlab-ci-with-yarn/" />





<link rel="stylesheet" href="https://rahmathidayat.my.id/assets/style.css" />

<link rel="stylesheet" href="https://rahmathidayat.my.id/style.css" />


<link
  rel="apple-touch-icon-precomposed"
  sizes="144x144"
  href="https://rahmathidayat.my.id/img/apple-touch-icon-144-precomposed.png"
/>
<link rel="shortcut icon" href="https://rahmathidayat.my.id/img/favicon.png" />


<link href="https://rahmathidayat.my.id/assets/fonts/Inter-Italic.woff2" rel="preload" type="font/woff2" as="font" crossorigin="">
<link href="https://rahmathidayat.my.id/assets/fonts/Inter-Regular.woff2" rel="preload" type="font/woff2" as="font" crossorigin="">
<link href="https://rahmathidayat.my.id/assets/fonts/Inter-Medium.woff2" rel="preload" type="font/woff2" as="font" crossorigin="">
<link href="https://rahmathidayat.my.id/assets/fonts/Inter-MediumItalic.woff2" rel="preload" type="font/woff2" as="font" crossorigin="">
<link href="https://rahmathidayat.my.id/assets/fonts/Inter-Bold.woff2" rel="preload" type="font/woff2" as="font" crossorigin="">
<link href="https://rahmathidayat.my.id/assets/fonts/Inter-BoldItalic.woff2" rel="preload" type="font/woff2" as="font" crossorigin="">


<meta name="twitter:card" content="summary"/>
<meta name="twitter:title" content="Improve Gitlab CI Build Time on React App"/>
<meta name="twitter:description" content="Recently at my work, we have a work building internal dashboard and my colleague (a Front End Engineer) has picked React App for the front end. I got a job as an accident dev ops (it because our office does not have a dedicated dev ops yet).
My job is uploading local project into some accessible url for our user. First, i just ask the front end to send me the project that i have to upload to the server."/>



<meta property="og:title" content="Improve Gitlab CI Build Time on React App" />
<meta property="og:description" content="Recently at my work, we have a work building internal dashboard and my colleague (a Front End Engineer) has picked React App for the front end. I got a job as an accident dev ops (it because our office does not have a dedicated dev ops yet).
My job is uploading local project into some accessible url for our user. First, i just ask the front end to send me the project that i have to upload to the server." />
<meta property="og:type" content="article" />
<meta property="og:url" content="https://rahmathidayat.my.id/posts/slow-build-time-gitlab-ci-with-yarn/" />
<meta property="article:published_time" content="2021-03-04T11:15:52+08:00" />
<meta property="article:modified_time" content="2021-03-04T11:15:52+08:00" /><meta property="og:site_name" content="The Official Website of zhorahmatt - " />






  </head>
  <body class="">
    <div class="container">
      <header class="header">
  <span class="header__inner">
    <a
  href="/"
  class="logo"
  style="text-decoration: none;"
>
  
    <span class="logo__mark"><svg xmlns="http://www.w3.org/2000/svg" class="greater-icon" viewBox="0 0 44 44">
  <path fill="none" d="M15 8l14.729 14.382L15 35.367" />
</svg>
</span>
    <span class="logo__text"
      >@zhorahmatt</span
    >
    <span class="logo__cursor"></span>
  
</a>

    <span class="header__right">
      
        <nav class="menu">
  <ul class="menu__inner menu__inner--desktop">
    
      
        
          <li><a href="/about">About</a></li>
        
      
      
      
  </ul>

  <ul class="menu__inner menu__inner--mobile">
    
      
        <li><a href="/about">About</a></li>
      
    
  </ul>
</nav>

        <span class="menu-trigger">
          <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24">
            <path d="M0 0h24v24H0z" fill="none" />
            <path d="M3 18h18v-2H3v2zm0-5h18v-2H3v2zm0-7v2h18V6H3z" />
          </svg>
        </span>
      
      <span class="theme-toggle">
        <svg
  class="theme-toggler"
  width="24"
  height="24"
  viewBox="0 0 48 48"
  fill="none"
  xmlns="http://www.w3.org/2000/svg"
>
  <path
    d="M22 41C32.4934 41 41 32.4934 41 22C41 11.5066 32.4934 3 22
  3C11.5066 3 3 11.5066 3 22C3 32.4934 11.5066 41 22 41ZM7 22C7
  13.7157 13.7157 7 22 7V37C13.7157 37 7 30.2843 7 22Z"
  />
</svg>

      </span>
    </span>
  </span>
</header>


      <div class="content">
        
  
  

  <div class="post">
    <h1 class="post-title">Improve Gitlab CI Build Time on React App</h1>
    <div class="post-meta">
      
        <span class="post-date">
          2021-03-04
        </span>

        
          
        
      

      


      
    </div>

    

    

    <div class="post-content">
      
      <p>Recently at my work, we have a work building internal dashboard and my colleague (a Front End Engineer) has picked React App for the front end. I got a job as an accident dev ops (it because our office does not have a dedicated dev ops yet).</p>
<p>My job is uploading local project into some accessible url for our user. First, i just ask the front end to send me the project that i have to upload to the server. Problem solves at first.</p>
<h3 id="a-problem-arise">a Problem arise</h3>
<p>Day later, i realize it&rsquo;s not efficient work. i have to ask regularly to the front end if any changes to the project. so i have to upload it again and again.</p>
<p>After some research, i decided to build Continuous Integration for the project. Btw, our project is hosted in gitlab as our repository management and Gitlab has a nice tools called Gitlab CI for building some automatic deployment.</p>
<p>at first, i got some problem with the Gitlab Runner. it sometimes doesn&rsquo;t run or i have to reinstall it. and it solved finally.</p>
<p>For this project, i just set up 2 stages, build and deploy stages. we have not implemented testing stage for the project yet.</p>
<p>after some trial and errors, finally it has succesfully build and deploy to the server.</p>
<h3 id="slow-build-time">Slow Build Time</h3>
<p>for the first process, i was impressed for the result, i don&rsquo;t have to ask the front end over and over again.</p>
<p>but, after some deployment, it become slow deployment on the gitlab ci.</p>
<p><img src="/img/gitlab2.png" alt="Slow Build Time Gitlab Ci With Yarn"></p>
<p>if you have not concerned with the time, it&rsquo;s oke. but i think it will become a problem if deployment takes more time.</p>
<h4 id="cache-packages">Cache Packages</h4>
<p>After searching on the internet, i found that the solutions is really simple. just cache everything. The pain poin of the deployment is build stages takes more than 10 minutes until it done. everytime build stages running, it will download all packages that depend on the project. So i cache it.</p>
<p><code>cache: paths: - node_modules/ - .yarn before_script: - yarn install --cache-folder .yarn</code></p>
<p>it simply cache node_modules into cache folder.</p>
<h3 id="result">Result</h3>
<p><img src="/img/gitlab.png" alt="result"></p>
<p>as you can see, the deployment time has increased significantly from 10 minutes more to just 4 minutes. Thanks to the cache and also internet. :D</p>

    </div>
    
      
        <div class="pagination">
          <div class="pagination__title">
            <span class="pagination__title-h"
              >Read other posts</span
            >
            <hr />
          </div>
          <div class="pagination__buttons">
            
            
              <span class="button next">
                <a href="https://rahmathidayat.my.id/posts/meet-my-new-blog/">
                  <span class="button__text">Meet My New Blog</span>
                  <span class="button__icon">→</span>
                </a>
              </span>
            
          </div>
        </div>
      
    

    
      
        <div id="disqus_thread"></div>
<script type="application/javascript">
    var disqus_config = function () {
    
    
    
    };
    (function() {
        if (["localhost", "127.0.0.1"].indexOf(window.location.hostname) != -1) {
            document.getElementById('disqus_thread').innerHTML = 'Disqus comments not available by default when the website is previewed locally.';
            return;
        }
        var d = document, s = d.createElement('script'); s.async = true;
        s.src = '//' + "http-rahmathidayat-id" + '.disqus.com/embed.js';
        s.setAttribute('data-timestamp', +new Date());
        (d.head || d.body).appendChild(s);
    })();
</script>
<noscript>Please enable JavaScript to view the <a href="https://disqus.com/?ref_noscript">comments powered by Disqus.</a></noscript>
<a href="https://disqus.com" class="dsq-brlink">comments powered by <span class="logo-disqus">Disqus</span></a>
      
    
  </div>

      </div>

      
        <footer class="footer">
  <div class="footer__inner">
    
      <a
  href="/"
  class="logo"
  style="text-decoration: none;"
>
  
    <span class="logo__mark"><svg xmlns="http://www.w3.org/2000/svg" class="greater-icon" viewBox="0 0 44 44">
  <path fill="none" d="M15 8l14.729 14.382L15 35.367" />
</svg>
</span>
    <span class="logo__text"
      >@zhorahmatt</span
    >
    <span class="logo__cursor"></span>
  
</a>

      <div class="copyright">
        <span
          >© 2021 Powered by
          <a href="https://gohugo.io" target="_blank" rel="noopener">Hugo</a></span
        >
        <span
          >Theme created by
          <a href="https://twitter.com/panr" target="_blank" rel="noopener">panr</a></span
        >
      </div>
    
  </div>
</footer>

<script src="https://rahmathidayat.my.id/assets/main.js"></script>
<script src="https://rahmathidayat.my.id/assets/prism.js"></script>


      
    </div>

    
      
<script type="application/javascript">
var doNotTrack = false;
if (!doNotTrack) {
	(function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
	(i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
	m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
	})(window,document,'script','https://www.google-analytics.com/analytics.js','ga');
	ga('create', 'UA-191466426-1', 'auto');
	
	ga('send', 'pageview');
}
</script>

    
  </body>
</html>
